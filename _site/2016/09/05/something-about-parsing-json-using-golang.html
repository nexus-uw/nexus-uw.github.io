<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Something About Parsing JSON Using Go</title>
  <meta name="description" content="Problem">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://ramsay.xyz/2016/09/05/something-about-parsing-json-using-golang.html">
  <link rel="alternate" type="application/rss+xml" title="Simon Ramsay" href="https://ramsay.xyz/feed.xml">
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Simon Ramsay</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"
 "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg version="1.0" xmlns="http://www.w3.org/2000/svg"
 width="500.000000pt" height="298.000000pt" viewBox="0 0 500.000000 298.000000"
 preserveAspectRatio="xMidYMid meet">
<g transform="translate(0.000000,298.000000) scale(0.100000,-0.100000)"
fill="#000000" stroke="none">
<path d="M4694 1438 c-16 -13 -49 -41 -72 -63 -56 -52 -188 -150 -227 -169
-16 -8 -41 -32 -54 -54 -37 -60 -121 -90 -271 -97 -41 -2 -101 -11 -133 -19
-32 -9 -72 -16 -88 -16 -41 0 -122 -21 -131 -33 -3 -6 -17 -11 -30 -12 -60 -6
-184 -37 -214 -54 -18 -11 -43 -17 -56 -15 -17 3 -18 2 -6 -3 14 -7 12 -11
-17 -30 -19 -13 -37 -19 -39 -14 -10 15 -77 -6 -123 -39 -42 -30 -45 -31 -91
-20 -26 7 -67 14 -92 16 -48 4 -209 -18 -300 -40 -30 -8 -98 -17 -151 -20 -91
-6 -98 -5 -133 19 -20 14 -49 28 -64 31 -15 4 -35 13 -44 22 -16 13 -18 13
-24 -2 -3 -9 -4 -23 0 -31 6 -17 26 -21 26 -5 0 22 21 8 37 -25 15 -32 15 -37
-1 -74 -23 -50 -10 -73 29 -50 6 4 18 5 28 4 9 -2 17 1 17 5 0 5 15 3 34 -5
18 -8 50 -16 70 -18 20 -2 39 -7 43 -10 11 -12 20 -8 52 19 l31 26 0 -26 c0
-14 4 -26 9 -26 5 0 8 14 7 32 -1 26 3 32 29 40 57 18 99 19 137 3 25 -10 71
-15 133 -15 86 0 94 -2 100 -20 4 -12 14 -20 23 -18 29 4 42 -12 42 -51 0 -52
13 -61 95 -61 63 -1 73 -3 96 -28 38 -40 69 -88 69 -106 0 -12 10 -16 38 -17
20 0 46 -2 57 -4 11 -2 30 3 42 11 28 18 33 18 33 -1 0 -9 6 -15 13 -14 32 4
67 -2 67 -12 0 -6 -7 -9 -15 -5 -9 3 -15 0 -15 -10 0 -12 4 -13 20 -4 11 6 24
9 29 6 5 -3 16 5 25 19 13 19 25 25 54 25 25 0 32 3 23 9 -11 7 -11 10 2 17
21 12 35 66 15 59 -8 -3 -25 6 -38 21 l-25 26 25 -3 c15 -2 34 5 47 16 12 11
42 38 67 60 25 22 46 48 46 57 0 9 5 20 10 23 6 3 10 14 10 24 0 10 8 25 18
34 16 15 19 15 30 -3 13 -21 42 -27 42 -9 0 23 25 1 30 -27 3 -17 12 -30 23
-32 15 -3 17 1 11 22 -7 30 10 56 37 56 12 0 16 -5 13 -15 -4 -10 0 -15 14
-15 12 0 24 -4 27 -10 3 -5 15 -10 27 -10 28 0 127 61 134 83 3 10 12 16 19
13 9 -3 11 2 7 16 -3 15 -1 19 9 16 8 -3 13 -13 13 -22 -1 -11 6 -16 27 -16
54 0 138 52 139 87 0 7 9 17 20 23 11 6 20 19 20 29 0 11 7 18 16 17 9 0 19 5
22 13 2 8 0 11 -6 7 -14 -8 -42 3 -42 18 0 21 22 37 35 26 14 -12 29 2 40 38
5 18 2 25 -14 29 -11 3 -27 16 -36 29 -14 22 -14 25 0 31 9 3 21 1 28 -6 6 -6
15 -11 19 -11 12 0 10 48 -3 55 -7 5 -5 12 4 23 9 10 17 28 19 42 2 19 8 24
26 22 30 -4 47 37 23 55 -14 12 -14 15 6 31 36 31 31 80 -11 114 -27 22 -28
22 -62 -4z"/>
<path d="M599 946 c-30 -23 -77 -55 -106 -71 -46 -24 -55 -26 -84 -16 -18 6
-36 8 -39 4 -4 -5 -22 -55 -39 -112 l-33 -105 47 -43 c26 -24 51 -43 54 -43
17 0 113 -80 134 -111 35 -51 103 -99 142 -99 19 0 37 -5 41 -11 10 -17 33 -6
127 61 l88 62 97 -12 c53 -6 126 -18 161 -26 89 -20 263 -46 269 -39 3 3 11 0
19 -6 7 -6 13 -8 13 -4 0 4 11 0 25 -9 29 -19 55 -21 55 -4 0 7 15 -3 34 -21
22 -21 58 -40 107 -55 67 -21 83 -22 169 -15 58 6 123 19 168 36 81 29 129 73
214 199 40 59 48 80 57 144 5 41 8 76 6 78 -2 2 -17 -4 -34 -12 -16 -9 -39
-16 -51 -16 -11 0 -23 -7 -26 -15 -4 -8 -10 -15 -16 -15 -5 0 -7 4 -4 8 3 5
-20 10 -52 11 -31 1 -63 7 -70 13 -10 9 -15 9 -21 0 -5 -9 -11 -5 -19 13 -6
14 -16 25 -21 25 -5 0 -31 -18 -57 -40 -34 -28 -58 -40 -80 -40 -18 0 -35 -6
-37 -12 -4 -10 -7 -10 -15 0 -7 11 -21 11 -64 3 -36 -6 -69 -6 -98 0 -24 5
-57 7 -73 3 -19 -4 -27 -3 -23 4 8 14 -80 32 -158 32 -48 0 -74 6 -110 25 -26
14 -60 25 -77 25 -16 0 -71 9 -121 20 -51 12 -103 20 -118 18 -16 -2 -31 5
-43 20 -10 12 -27 22 -37 22 -10 0 -32 13 -48 29 -16 16 -45 36 -65 45 -20 8
-54 33 -75 55 -22 23 -44 41 -49 41 -6 0 -35 -20 -64 -44z"/>
<path d="M971 932 c33 -42 72 -55 155 -53 50 1 74 -2 82 -12 12 -14 125 -17
139 -4 3 4 13 7 22 7 14 0 14 -2 1 -10 -11 -7 -7 -10 17 -10 41 0 123 -22 123
-32 0 -10 89 2 115 15 11 6 28 10 39 8 10 -1 15 2 12 7 -3 6 -39 13 -78 17
-40 4 -85 13 -100 20 -15 7 -52 12 -85 10 -57 -2 -125 4 -253 25 -36 5 -78 12
-95 15 -35 5 -72 14 -99 22 -17 5 -17 2 5 -25z"/>
<path d="M4185 567 c6 -32 5 -34 -33 -45 -22 -7 -46 -12 -54 -12 -8 0 -23 -9
-33 -20 -14 -16 -16 -23 -7 -32 7 -7 12 -23 12 -36 0 -19 3 -22 13 -14 7 6 22
9 33 6 15 -4 26 2 37 20 10 14 30 32 46 40 21 11 31 27 40 61 14 55 9 65 -30
65 -28 0 -30 -2 -24 -33z"/>
<path d="M2564 526 c-48 -10 -51 -13 -43 -34 5 -13 13 -21 19 -17 13 8 91 -15
113 -34 10 -9 32 -29 48 -44 20 -20 34 -27 49 -22 11 3 20 10 20 15 0 16 35
16 47 0 11 -13 12 -13 13 2 0 13 10 16 60 13 38 -2 65 1 73 9 6 7 20 17 30 23
18 9 18 11 2 27 -10 9 -24 15 -31 12 -8 -3 -14 -2 -14 2 0 4 -24 9 -54 10 -30
1 -73 9 -96 17 -24 8 -64 15 -91 15 -26 0 -58 4 -71 8 -13 5 -45 4 -74 -2z"/>
<path d="M2340 276 c0 -12 -34 -30 -52 -27 -5 1 -8 -3 -8 -9 0 -5 -13 -10 -30
-10 -23 0 -30 -4 -30 -20 0 -11 -5 -17 -12 -15 -26 10 -79 12 -84 4 -3 -5 3
-9 12 -9 10 0 25 -7 35 -16 13 -12 19 -12 25 -3 4 8 3 10 -4 5 -7 -4 -12 -2
-12 3 0 14 22 14 38 1 6 -6 10 -7 7 -3 -6 8 24 29 60 43 25 9 26 9 15 -5 -8
-10 -9 -15 -1 -15 10 0 15 13 12 33 0 4 10 7 23 7 14 0 28 5 31 10 3 6 11 10
17 10 7 0 7 -5 -1 -14 -10 -11 -4 -13 31 -9 25 2 60 -2 83 -11 22 -8 33 -15
24 -15 -18 -1 -28 -19 -22 -38 7 -20 57 -15 76 7 9 11 21 20 27 20 10 0 2 -31
-11 -40 -11 -8 18 -69 36 -76 26 -10 30 5 7 26 -12 12 -22 26 -22 32 0 7 7 3
15 -8 13 -17 14 -18 15 -1 0 10 -7 20 -15 23 -8 4 -15 10 -15 16 0 5 11 1 23
-9 16 -11 22 -24 19 -37 -3 -12 -1 -17 6 -12 6 3 14 1 17 -4 5 -7 11 -5 20 6
13 18 45 28 45 14 0 -4 8 -6 19 -3 12 3 24 -3 35 -18 9 -13 16 -18 16 -12 0
16 28 24 36 11 4 -7 3 -8 -4 -4 -7 4 -12 2 -12 -3 0 -14 6 -14 33 1 12 6 36
13 52 14 17 1 24 0 18 -3 -23 -9 -14 -23 10 -14 12 4 28 6 36 3 8 -3 11 0 7 7
-4 6 -2 11 5 11 6 0 9 -8 6 -20 -3 -11 -1 -18 3 -15 5 3 11 1 15 -4 3 -6 19
-9 34 -8 22 1 27 5 19 15 -6 6 -22 12 -37 13 -15 0 -20 3 -11 6 8 3 26 15 40
27 17 14 20 15 11 3 -8 -9 -12 -19 -10 -20 2 -2 19 -15 37 -30 19 -15 41 -27
50 -27 12 1 10 5 -8 15 l-25 15 30 -7 c16 -3 35 -6 42 -6 8 0 11 -7 7 -19 -5
-16 1 -18 48 -18 29 0 91 6 138 14 47 8 114 19 150 24 53 8 80 19 144 61 43
28 83 51 89 51 10 0 36 30 37 43 0 4 -8 7 -19 7 -26 0 -91 -28 -91 -40 0 -16
-43 -39 -85 -45 -22 -3 -52 -11 -67 -16 -33 -13 -62 1 -80 39 -18 35 -59 35
-116 -2 -23 -14 -46 -26 -51 -26 -6 0 -23 13 -38 29 -17 18 -50 36 -82 45 -56
16 -142 21 -155 9 -3 -4 -25 -8 -47 -9 -67 -4 -92 -13 -87 -32 4 -15 -3 -17
-61 -16 -86 1 -181 14 -181 24 0 10 -27 21 -63 26 -65 9 -207 46 -207 55 0 5
-7 9 -15 9 -8 0 -15 -6 -15 -14z"/>
</g>
</svg>

      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/about/">About</a>
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Something About Parsing JSON Using Go</h1>
    <p class="post-meta"><time datetime="2016-09-05T00:00:00-04:00" itemprop="datePublished">Sep 5, 2016</time> • <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Simon</span></span></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <h3 id="problem">Problem</h3>

<p>Go requires exported properties to start with a capital letter but most APIs use JSON that is all in cammelCase so
using <code class="highlighter-rouge">json.Unmarshal</code> will always result in all empty properties. ie</p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">  
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"some name"</span><span class="p">,</span><span class="w">  
  </span><span class="nt">"age"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  
</span><span class="p">}</span><span class="w">  
</span></code></pre>
</div>

<h3 id="solution">Solution</h3>

<p><code class="highlighter-rouge">json:"cammelCasePropertyName"</code> adding a clause to the type’s property. ie:</p>

<div class="language-go highlighter-rouge"><pre class="highlight"><code><span class="k">type</span><span class="x"> </span><span class="n">Sample</span><span class="x"> </span><span class="k">struct</span><span class="x"> </span><span class="p">{</span><span class="x">  
    </span><span class="n">Name</span><span class="x"> </span><span class="kt">string</span><span class="x"> </span><span class="s">`json:"name"`</span><span class="x">  
    </span><span class="n">Age</span><span class="x">  </span><span class="kt">int</span><span class="x">    </span><span class="s">`json:"age"`</span><span class="x">  
</span><span class="p">}</span><span class="x">  
</span></code></pre>
</div>

<p>will create the correct mapping of JSON property to  Struct property</p>

<h3 id="better-solution">Better Solution</h3>
<p>goto <a href="https://gobyexample.com/json">https://gobyexample.com/json</a> instead….</p>

  </div>
  <div style="display:none">
    Nobody will read this,<br/>
    Simon
  </div>

</article>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Simon Ramsay<a href="http://eqac56hh4ppxzy27.onion">(TOR)</a></h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li><a href="mailto:s3ramsay@riseup.net">s3ramsay@riseup.net</a></li>
          <li><a href="https://keybase.io/nexusuw/key.asc">F50F7E3612EA2B78</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/nexus-uw"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">nexus-uw</span></a>

          </li>
          

          

          <li>
            <a href="https://keybase.io/nexusuw"><span class="username">Keybase: nexusuw</span></a> <a href="http://fncuwbiisyh6ak3i.onion/nexusuw">(TOR)</a>

          </li>

        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>'dank memes' happens to be a phrase that exists currently.</p>
      </div>
    </div>

  </div>

</footer>

    <img src="https://tor-hceck.herokuapp.com/98e61a80-8c71-4794-af4f-b8a7fda264ed?page=https://ramsay.xyz/2016/09/05/something-about-parsing-json-using-golang.html" alt="tor-user-check"/>
  </body>

</html>
